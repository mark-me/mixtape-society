services:
  mixtape:
    image: mixtape-society:latest
    # build:
    #   context: .
    #   dockerfile: docker/Dockerfile
    container_name: mixtape-society
    restart: unless-stopped
    ports:
      - "5000:5000"                 # http://localhost:5000
    volumes:
      # Your music collection (read-only)
      - /home/mark/Music:/home/mark/Music:ro

      # Mixtapes + covers
      - ../mixtapes:/app/mixtapes

      # Collection database
      - ../collection-data:/app/collection-data
    environment:
      # Change this to a strong password!
      - PASSWORD=supergeheim123

      # Optional: logging level
      - FLASK_ENV=production