services:
  mixtape:
    image: mixtape-society:latest
    # build:
    #   context: .
    #   dockerfile: docker/Dockerfile
    container_name: mixtape-society
    restart: unless-stopped
    ports:
      - "5000:5000"
    volumes:
      # Your music collection (read-only)
      - /home/mark/Music:/home/mark/Music:ro
      # App-generated data
      - ../collection-data:/app/collection-data
    environment:
      - APP_ENV=production
      - FLASK_ENV=production

      # These override everything â€” required in production
      - MUSIC_ROOT=/music
      - DATA_ROOT=/app/collection-data

      # Strong password!
      - PASSWORD=supergeheim123